(()=>{"use strict";var t;(t={numFrames:10},new Promise(((e,r)=>{p5.prototype.createP5Cap=function(){const e=new class{constructor(t,e){this.p=t,this._pendingFrames=[],this.frames=[],this.totalFrames=e?.numFrames||60,this.onComplete=null}captureCurrentFrame(){const t=(e=this.p._curElement.elt,new Promise(((t,r)=>{e.toBlob((e=>{t(e)}))})));var e;this._pendingFrames.push(t)}stop(){this.p.noLoop()}async getFrames(){return this.stop(),this.frames=await async function(t){const e=[];for(let r=0;r<t.length;r++)e[r]=await t[r];return e}(this._pendingFrames),this.frames}}(this,t);this.Cap=e},p5.prototype.captureCurrentFrame=function(){this.Cap.captureCurrentFrame(),this.frameCount>=this.Cap.totalFrames&&this.Cap.getFrames().then((function(t){e(t)}))},p5.prototype.registerMethod("init",p5.prototype.createP5Cap),p5.prototype.registerMethod("post",p5.prototype.captureCurrentFrame)}))).then((t=>{console.log(t)}))})();
//# sourceMappingURL=autocapture.js.map